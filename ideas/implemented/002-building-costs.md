# Цена постройки

## Описание
Каждое здание должно стоить определённое количество ресурсов для постройки. Ресурсы берутся из главного здания. Если ресурсов недостаточно, строительство невозможно.

## Оценка сложности
**Средняя (5/10)**

- Добавить поля в entity_type для хранения цены
- Проверка доступности ресурсов перед строительством
- Списание ресурсов при начале строительства
- UI для отображения стоимости

## Оценка интересности
**Высокая (8/10)**

Базовая экономическая механика, которая заставляет игрока планировать и приоритизировать постройки. Создаёт стратегический выбор.

## Краткий план реализации

1. **База данных**:
   - Создать таблицу `entity_type_cost` с полями: entity_type_id, resource_id, quantity
   - Заполнить начальные данные для всех построек

2. **Backend**:
   - MapController::actionPlaceEntity(): проверять user_resource перед созданием
   - Списывать ресурсы при создании blueprint
   - Вернуть ресурсы при удалении blueprint

3. **Frontend**:
   - Tooltip при наведении на entity_type в панели: показывать стоимость
   - BuildMode: проверка доступности ресурсов
   - Визуальное обозначение недоступных построек (серый цвет, иконка замка)

4. **API**:
   - game/config: добавить entity_type_costs
   - Формат: `{ entity_type_id: { resource_id: quantity } }`
