# Личное снаряжение (Personal Equipment)

## Описание
Система апгрейдов для персонажа игрока:
- Модульная броня (слоты для оборудования)
- Экзоскелет (увеличивает скорость передвижения)
- Личный щит (защита от урона)
- Portable roboports (роботы следуют за игроком)
- Ночное видение
- Батареи (энергия для оборудования)

## Оценка сложности
**Высокая (8/10)**

- Система инвентаря брони (grid)
- Разные типы оборудования (passive, active)
- Батареи и потребление энергии
- Бонусы к характеристикам игрока
- UI для управления снаряжением
- Интеграция с персональными роботами

## Оценка интересности
**Очень высокая (9/10)**

Даёт прогресс персонажа (не только базы). Делает поздную игру более динамичной. Открывает новые возможности (быстрое строительство, защита).

## Краткий план реализации

1. **Типы брони**:
   - **Light Armor**: 10 слотов, +20 HP
   - **Heavy Armor**: 16 слотов, +50 HP
   - **Modular Armor**: 25 слотов, +100 HP, медленнее
   - **Power Armor**: 36 слотов, +150 HP, встроенный генератор
   - **Power Armor MK2**: 64 слота, +200 HP, мощный генератор

2. **Типы оборудования**:
   - **Energy Shield**: поглощает урон (100 HP)
   - **Energy Shield MK2**: поглощает урон (200 HP)
   - **Exoskeleton**: +30% скорость движения
   - **Night Vision**: видимость ночью как днём
   - **Personal Roboport**: 10 роботов следуют за игроком
   - **Personal Battery**: хранит энергию (20 MJ)
   - **Personal Reactor**: генерирует энергию (200 kW)
   - **Personal Laser Defense**: автоматически стреляет по врагам

3. **Grid система**:
   - Каждая броня = grid (например, 6x6 клеток)
   - Оборудование занимает разное количество клеток:
     - Energy Shield: 2x2
     - Exoskeleton: 2x4
     - Personal Roboport: 2x2
     - Battery: 1x2
     - Reactor: 2x2

4. **База данных**:
   - Таблица `armor_type`: id, name, grid_width, grid_height, hp_bonus
   - Таблица `equipment_type`: id, name, width, height, type, bonus_value
   - Таблица `user_armor`: user_id, armor_type_id
   - Таблица `user_equipment`: user_id, equipment_type_id, grid_x, grid_y

5. **Энергия**:
   - Каждое оборудование потребляет/генерирует энергию
   - Shield: 0 kW (только при получении урона)
   - Exoskeleton: 200 kW
   - Night Vision: 10 kW
   - Personal Roboport: 100 kW (при работе роботов)
   - Laser Defense: 500 kW (при стрельбе)

6. **UI**:
   - Окно "Броня" (hotkey: E)
   - Слева: grid брони (6x6 клеток)
   - Справа: доступное оборудование (инвентарь)
   - Drag & drop для установки/удаления
   - Индикатор энергии: баттарея (заполнение)
   - Индикатор щита: HP щита

7. **Эффекты**:
   - **Exoskeleton**: увеличить player.speed
   - **Night Vision**: отключить затемнение ночью
   - **Shield**: при получении урона: сначала щит, потом HP
   - **Personal Roboport**: роботы строят в радиусе игрока
   - **Laser Defense**: автоатака врагов в радиусе 15 тайлов

8. **Рецепты**:
   - Light Armor: 10 Iron Plates
   - Heavy Armor: 50 Steel Plates
   - Modular Armor: 30 Advanced Circuits + 50 Steel
   - Energy Shield: 10 Advanced Circuits + 5 Steel
   - Exoskeleton: 20 Processing Units + 30 Steel + 30 Gears

9. **Балансировка**:
   - Ранняя броня: дёшево, мало слотов
   - Поздняя броня: очень дорого, много слотов
   - Оборудование Tier 1: дёшево, слабые бонусы
   - Оборудование Tier 2: дорого, сильные бонусы

10. **Визуализация**:
    - Спрайт игрока меняется в зависимости от брони
    - Свечение при активном щите
    - Анимация экзоскелета (быстрее ходит)
    - Лазеры при атаке Personal Laser Defense
