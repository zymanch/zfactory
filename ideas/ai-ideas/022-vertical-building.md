# Вертикальное строительство (этажи)

## Описание
Возможность строить на нескольких вертикальных уровнях (этажах):
- Фундаменты и платформы для создания уровней
- Лестницы и лифты для перемещения
- Конвейеры могут идти вверх/вниз
- Трубы между этажами
- Компактные многоуровневые фабрики

## Оценка сложности
**Очень высокая (10/10)**

- Новая ось Z (высота)
- Рендеринг нескольких слоёв
- Система фундаментов
- Вертикальные конвейеры/лифты
- Камера с поддержкой 3D (или isometric)
- Коллизии на разных уровнях

## Оценка интересности
**Очень высокая (10/10)**

Революционное изменение. Открывает огромные возможности для компактного дизайна. Очень амбициозно.

## Краткий план реализации

1. **Уровни (floors)**:
   - Z-координата: 0, 1, 2, 3, ... (этажи)
   - Каждый этаж = 4 тайла высоты
   - map/entity: добавить поле z_level

2. **Фундаменты**:
   - entity_type "Foundation" (платформа)
   - Создаёт поверхность для строительства
   - Можно строить на фундаменте (z_level + 1)
   - Нужны столбы/опоры для поддержки

3. **Визуализация**:
   - **Вариант 1**: Isometric view (изометрия)
     - Рендерить все этажи одновременно
     - Более высокие этажи рисуются выше
     - Сложно, но красиво

   - **Вариант 2**: Переключение уровней
     - Показывать только текущий уровень
     - Кнопки: Level 0 / Level 1 / Level 2
     - Нижние уровни полупрозрачные (ghosted)
     - Проще реализовать

4. **Вертикальные конвейеры**:
   - entity_type "Conveyor Lift"
   - Транспортирует ресурсы вверх/вниз
   - Занимает пространство на всех этажах между

5. **Лестницы**:
   - entity_type "Ladder" или "Stairs"
   - Игрок может подняться/спуститься
   - Анимация подъёма

6. **Лифты**:
   - entity_type "Elevator"
   - Быстрая транспортировка между этажами
   - Для игрока и ресурсов

7. **Ограничения**:
   - Максимум 10 этажей (производительность)
   - Фундамент требует опоры (столбы каждые N тайлов)
   - Стоимость растёт с высотой

8. **Рендеринг (Вариант 2)**:
   - Текущий уровень: полная яркость
   - Уровень -1: 50% прозрачность
   - Уровень -2 и ниже: не рендерить
   - UI: slider для переключения уровня
