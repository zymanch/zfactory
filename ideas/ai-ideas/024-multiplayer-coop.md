# Мультиплеер (кооператив)

## Описание
Совместная игра для 2-8 игроков:
- Общая база и ресурсы
- Каждый игрок строит и управляет
- Синхронизация состояния в реальном времени
- Чат и пинги на карте
- Права доступа (кто может строить/удалять)

## Оценка сложности
**Экстремально высокая (10/10)**

- WebSocket соединение
- Синхронизация состояния (networking)
- Разрешение конфликтов
- Latency compensation
- Сервер для хостинга
- Безопасность и античит

## Оценка интересности
**Максимальная (10/10)**

Мультиплеер - killer feature. Резко повышает replayability. Социальный аспект игры.

## Краткий план реализации

1. **Архитектура**:
   - Authoritative server (сервер главный)
   - Клиенты отправляют команды
   - Сервер обновляет состояние
   - Broadcast изменений всем клиентам

2. **WebSocket**:
   - Socket.IO или ws
   - Подключение при входе в игру
   - Heartbeat (проверка соединения)

3. **Синхронизация**:
   - Entity updates: position, state, inventory
   - Resource transport
   - Building/deletion
   - Research progress

4. **Команды**:
   - `build`: {entityTypeId, x, y}
   - `delete`: {entityId}
   - `move`: {x, y}
   - `chat`: {message}

5. **Оптимизация**:
   - Не отправлять всё состояние постоянно
   - Только изменения (delta updates)
   - Предсказание на клиенте (client-side prediction)

6. **UI**:
   - Список игроков (имена, аватары)
   - Цвет каждого игрока
   - Видеть курсоры других игроков
   - Чат окно
