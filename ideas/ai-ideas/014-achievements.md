# Достижения (Achievements)

## Описание
Система достижений (ачивок) для отслеживания прогресса и постановки целей:
- Производственные: "Произвести 1000 Iron Plates"
- Боевые: "Уничтожить 100 врагов"
- Строительные: "Построить 50 Assemblers"
- Скоростные: "Исследовать технологию за 10 минут"
- Необычные: "Уничтожить врага конвейером"

Награды: титулы, иконки, может быть бонусы.

## Оценка сложности
**Средняя (5/10)**

- Таблица достижений и прогресса
- Триггеры для отслеживания событий
- UI для просмотра достижений
- Уведомления при получении
- Интеграция с разными системами игры

## Оценка интересности
**Высокая (8/10)**

Добавляет долгосрочные цели. Мотивирует пробовать разные аспекты игры. Дает чувство прогресса.

## Краткий план реализации

1. **База данных**:
   - Таблица `achievement`:
     - id, name, description, icon, type
     - requirement (JSON): условия получения

   - Таблица `user_achievement`:
     - user_id, achievement_id, unlocked_at, progress

2. **Категории достижений**:
   - **Production**: производство ресурсов
   - **Building**: строительство зданий
   - **Research**: исследование технологий
   - **Combat**: бой с врагами
   - **Exploration**: исследование карты
   - **Speed**: выполнить что-то быстро
   - **Challenge**: сложные необычные задачи

3. **Примеры достижений**:

   **Production**:
   - "First Steps": произвести 10 Iron Plates
   - "Mass Production": произвести 10,000 Iron Plates
   - "Steel Age": произвести 1000 Steel
   - "Circuit Master": произвести 5000 Advanced Circuits

   **Building**:
   - "Automation Begins": построить первый Assembler
   - "Factory Builder": построить 100 зданий
   - "Mega Base": построить 1000 зданий
   - "Power Grid": соединить 50 Power Poles

   **Research**:
   - "Scientist": исследовать первую технологию
   - "Tech Tree Complete": исследовать все технологии
   - "Speed Researcher": исследовать 5 технологий за час

   **Combat**:
   - "First Blood": уничтожить первого врага
   - "Defender": отбить 10 атак
   - "Exterminator": уничтожить 1000 врагов
   - "Tower Defense": построить 20 башен

   **Exploration**:
   - "Explorer": открыть 10 регионов
   - "Navigator": построить корабль

   **Speed**:
   - "Speedrunner": исследовать Automation за 5 минут
   - "Efficient": построить 100 зданий за 30 минут

   **Challenge**:
   - "No Solar": победить без использования солнечных панелей
   - "Green Energy": использовать только чистую энергию
   - "Pacifist": не убить ни одного врага 2 часа
   - "Belt Madness": создать конвейер длиной 1000 тайлов

4. **Прогресс**:
   - Некоторые ачивки имеют прогресс (50/100 врагов)
   - Отображается в UI (progress bar)
   - Автоматическое обновление

5. **Триггеры**:
   - При производстве ресурса: `checkAchievement('produce', resourceId, quantity)`
   - При постройке: `checkAchievement('build', entityTypeId)`
   - При исследовании: `checkAchievement('research', technologyId)`
   - При убийстве врага: `checkAchievement('kill', unitTypeId)`

6. **UI**:
   - Окно "Достижения" (список всех)
   - Фильтры: все / открытые / закрытые
   - Категории (вкладки)
   - Для каждого ачивмента:
     - Иконка
     - Название
     - Описание
     - Прогресс (если есть)
     - Дата получения (если разблокирован)
   - Статистика: X/Y разблокировано

7. **Уведомления**:
   - При получении: всплывающее окно
   - Звук "Achievement unlocked!"
   - Иконка + название
   - Исчезает через 5 секунд

8. **Награды** (опционально):
   - Титулы (отображаются рядом с ником)
   - Бонусы (например, +5% скорость исследований)
   - Косметика (цветные рамки для зданий)

9. **Секретные ачивки**:
   - Не показывать описание до получения
   - "???" вместо названия
   - Стимулирует экспериментировать

10. **API**:
    - `achievements/list`: все достижения + прогресс
    - `achievements/check`: проверка условий (вызывается автоматически)
    - Backend трекает все действия игрока
