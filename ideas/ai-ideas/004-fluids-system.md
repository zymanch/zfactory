# Система жидкостей

## Описание
Новый тип ресурсов - жидкости (вода, нефть, кислота, и т.д.). Транспортируются по трубам, а не конвейерам. Некоторые рецепты требуют жидкости как вход или производят их как выход.

## Оценка сложности
**Очень высокая (9/10)**

- Новая система транспорта (трубы вместо конвейеров)
- Физика жидкостей (давление, поток)
- Насосы (перекачка жидкостей)
- Резервуары (хранение больших объёмов)
- Смешивание жидкостей (бочки для конвейеров)
- Визуализация потока в трубах
- Новые рецепты с жидкостями

## Оценка интересности
**Очень высокая (9/10)**

Добавляет новое измерение в производственные цепочки. Открывает продвинутую химию и нефтепереработку.

## Краткий план реализации

1. **Типы жидкостей**:
   - resource_type: добавить поле is_fluid
   - Примеры: Вода, Crude Oil, Petroleum Gas, Sulfuric Acid, Lubricant
   - Измеряется в единицах (units), не в штуках

2. **Трубы**:
   - entity_type "Труба" (4 направления + углы)
   - Соединяются автоматически
   - Скорость потока: 100 units/sec
   - Вместимость трубы: 100 units

3. **Насосы**:
   - entity_type "Насос"
   - Добывает жидкость из источника (озеро, нефтяная скважина)
   - Или перекачивает между трубами (увеличивает давление)
   - Скорость: 200 units/sec
   - Требует электричество

4. **Резервуары**:
   - entity_type "Резервуар"
   - Хранит жидкость (10,000 units)
   - Подключается к трубам
   - Визуальный индикатор заполнения

5. **Химические заводы**:
   - entity_type "Chemical Plant"
   - Рецепты с жидкостями:
     - Вода + Железная руда → Железный слиток (быстрее)
     - Crude Oil → Petroleum Gas + Heavy Oil + Light Oil
     - Petroleum Gas + Coal → Plastic
     - Iron Plate + Sulfuric Acid → Steel (быстрее)

6. **Физика жидкостей** (упрощённая):
   - Каждая труба имеет current_amount
   - Каждый тик: перетекание в соседние трубы (выравнивание)
   - Насосы добавляют amount
   - Потребители вычитают amount

7. **Бочки** (barrel):
   - Рецепт: Empty Barrel + 50 units жидкости → Filled Barrel
   - Бочки можно транспортировать конвейерами
   - Обратно: Filled Barrel → Empty Barrel + 50 units жидкости

8. **Визуализация**:
   - Цвет жидкости в трубах (синий=вода, чёрный=нефть)
   - Анимация потока (движущиеся пузырьки)
   - Индикатор заполнения резервуаров

9. **Новые источники ресурсов**:
   - Озеро (бесконечная вода)
   - Нефтяная скважина (конечная нефть, постепенно истощается)
   - entity_type для source fluid

10. **Смешивание** (опционально):
    - Если разные жидкости попадают в одну трубу → засор
    - Нужно очищать/разбирать трубы
