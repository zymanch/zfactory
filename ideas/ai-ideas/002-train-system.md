# Железная дорога и поезда

## Описание
Система рельс и поездов для транспортировки больших объёмов ресурсов на дальние расстояния. Поезда могут:
- Ездить по рельсам между станциями
- Загружаться/разгружаться автоматически
- Следовать расписанию (station A → station B → station C)
- Перевозить ресурсы быстрее конвейеров

## Оценка сложности
**Очень высокая (10/10)**

- Система рельс (соединение, повороты, развилки)
- Pathfinding для поездов по рельсам
- Анимация движения поезда
- Станции (загрузка/разгрузка)
- Сигналы и семафоры (предотвращение столкновений)
- Расписание поездов
- UI управления поездами

## Оценка интересности
**Очень высокая (10/10)**

Открывает новый масштаб логистики. Визуально впечатляюще. Позволяет создавать мегабазы.

## Краткий план реализации

1. **Типы рельс**:
   - Прямые рельсы (4 направления)
   - Повороты (90°)
   - Перекрёстки
   - entity_type для каждого типа

2. **Поезда**:
   - unit_type "Локомотив" + "Вагон"
   - Поезд = цепочка из локомотива + N вагонов
   - Скорость зависит от числа вагонов
   - Вместимость вагона: 100 стаков ресурсов

3. **Станции**:
   - entity_type "Железнодорожная станция"
   - Интерфейс: загрузить/разгрузить ресурсы
   - Фильтры: какие ресурсы грузить
   - Условия отправки: "когда полон", "по расписанию"

4. **Pathfinding**:
   - Граф рельсовой сети
   - A* для поиска пути между станциями
   - Хранение маршрута в поезде

5. **Сигналы**:
   - Разделение путей на блоки
   - Только 1 поезд в блоке (предотвращение столкновений)
   - Цепные сигналы для перекрёстков

6. **UI**:
   - Окно управления поездом: добавление станций в маршрут
   - Карта рельсовой сети
   - Список всех поездов, их статусы

7. **Анимация**:
   - Плавное движение по рельсам
   - Звук "чух-чух"
   - Дым из локомотива

8. **Топливо**:
   - Локомотиву нужно топливо (уголь, fuel)
   - Автозаправка на станциях
