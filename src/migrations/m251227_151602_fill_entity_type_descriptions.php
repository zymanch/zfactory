<?php

use yii\db\Migration;

/**
 * Заполняет поле description для всех entity_type
 */
class m251227_151602_fill_entity_type_descriptions extends Migration
{
    /**
     * {@inheritdoc}
     */
    public function safeUp()
    {
        $descriptions = [
            // Trees
            1 => 'Хвойное дерево. Источник древесины.',
            2 => 'Лиственное дерево. Источник древесины.',
            3 => 'Мертвое дерево. Можно добыть меньше древесины.',

            // Relief
            10 => 'Небольшой камень. Можно разрушить для получения камня.',
            11 => 'Средний камень. Хороший источник камня.',
            12 => 'Большой камень. Отличный источник камня.',

            // Conveyors
            100 => 'Конвейерная лента. Транспортирует ресурсы между зданиями.',
            120 => 'Конвейерная лента (вверх). Транспортирует ресурсы между зданиями.',
            121 => 'Конвейерная лента (вниз). Транспортирует ресурсы между зданиями.',
            122 => 'Конвейерная лента (влево). Транспортирует ресурсы между зданиями.',

            // Buildings
            101 => 'Небольшая печь. Переплавляет руду в слитки. Требует уголь как топливо.',
            102 => 'Буровая установка. Добывает руду из месторождений.',
            103 => 'Сборочная машина. Производит сложные компоненты из сырья.',
            104 => 'Складской сундук. Хранит различные ресурсы.',
            105 => 'Электрический столб. Передает электроэнергию по территории.',
            106 => 'Паровой двигатель. Вырабатывает электроэнергию из пара.',
            107 => 'Котел. Перерабатывает сырую нефть в полезные жидкости.',
            108 => 'Быстрая буровая установка. Добывает руду быстрее обычной.',

            // Manipulators
            200 => 'Короткий манипулятор. Перемещает предметы между конвейерами и зданиями.',
            210 => 'Короткий манипулятор (вверх). Перемещает предметы между конвейерами и зданиями.',
            211 => 'Короткий манипулятор (вниз). Перемещает предметы между конвейерами и зданиями.',
            212 => 'Короткий манипулятор (влево). Перемещает предметы между конвейерами и зданиями.',
            201 => 'Длинный манипулятор. Перемещает предметы на большее расстояние.',
            213 => 'Длинный манипулятор (вверх). Перемещает предметы на большее расстояние.',
            214 => 'Длинный манипулятор (вниз). Перемещает предметы на большее расстояние.',
            215 => 'Длинный манипулятор (влево). Перемещает предметы на большее расстояние.',

            // Resources
            300 => 'Месторождение железной руды. Содержит большое количество железа.',
            301 => 'Месторождение медной руды. Содержит большое количество меди.',

            // Towers
            400 => 'Малая кристальная башня. Обеспечивает обзор небольшой территории.',
            401 => 'Средняя кристальная башня. Обеспечивает обзор средней территории.',
            402 => 'Большая кристальная башня. Обеспечивает обзор большой территории.',
        ];

        foreach ($descriptions as $entityTypeId => $description) {
            $this->update('entity_type', ['description' => $description], ['entity_type_id' => $entityTypeId]);
        }
    }

    /**
     * {@inheritdoc}
     */
    public function safeDown()
    {
        $this->update('entity_type', ['description' => null]);
    }
}
